# AMax Configuration File - Matching main.c from OldAMax test
# This configuration replicates the setup in:
# PreSearch/AMax/OldAMax/caen-felib-demo-open-dpp/main.c

# Connection settings (update with your actual device)
URL dig2://172.18.4.56
Threads 3
ModID 0
Debug false

# ============================================================================
# Standard CAEN Parameters (matching main.c)
# ============================================================================

# Channel configuration - Enable all 32 channels with 50% DC offset
/ch/0..31/par/ChEnable true
/ch/0..31/par/DCOffset 50

# Global trigger configuration - Software trigger with test pulse
/par/AcqTriggerSource SwTrg | TestPulse
/par/TestPulsePeriod 1000
/par/TestPulseWidth 16

# ============================================================================
# Note: User registers are commented out in main.c
# ============================================================================
# The following register settings were found commented in main.c:
# These would set channel trigger sources and wavelength if enabled:
#
# Channel trigger sources (addresses 0x600 + 4*i, value 8):
# /reg/0x600 8    # Channel 0
# /reg/0x604 8    # Channel 1
# ... (continuing for all 32 channels)
#
# Wavelength for channel 0:
# /reg/0x300 1000
#
# Since these are commented in the original code, they are not active here.

# ============================================================================
# Optional: Typical AMax Custom Register Settings
# ============================================================================
# These are common AMax register settings found in example configurations.
# Uncomment to enable. Note: Register names match RegisterFile.json exactly,
# including original spelling (M_lenght, shapung_len, offsett, etc.)

# Core control registers
# /reg/hooold 5000           # Hold-off time
# /reg/M_lenght 5            # Moving average length (note: original spelling)
# /reg/ft_delay 720          # Fast trigger delay
# /reg/ft_hold 1             # Fast trigger hold
# /reg/en_shift 0            # Enable shift
# /reg/en_out_h 0            # Enable output high
# /reg/en_shift_in 0         # Enable shift input
# /reg/GAIN 1050             # Digital gain

# System control registers
# /reg/reg_en 4              # Register enable
# /reg/reg_amax 4            # AMax register control

# CFD parameters (Constant Fraction Discriminator)
# /reg/delay_in 32           # CFD delay input
# /reg/fract_in 25000        # CFD fraction input
# /reg/thrcfd 50             # CFD threshold
# /reg/delay_trigger 96      # CFD trigger delay
# /reg/baseline_len 6        # CFD baseline length

# Energy parameters
# /reg/sub1_len 2            # Sub-window 1 length
# /reg/sub1_delay 570        # Sub-window 1 delay
# /reg/sub2_delay 670        # Sub-window 2 delay
# /reg/mult 3800000          # Multiplication factor

# AMax amplitude parameters
# /reg/shapung_len 6         # Shaping length (note: original spelling)
# /reg/Window_MAXIM 1000     # Maximum window
# /reg/DELAY_AM 100          # Amplitude delay
# /reg/AMAX_WINDOW 1000      # AMax window
# /reg/offsett 1000          # Offset (note: original spelling)